# 2025-11-29 작업 일지

## 📊 오늘의 작업 요약
- 총 커밋 수: 1개
- 주요 작업: 마석/영석 계산기 구현

## 🔥 주요 성과
1. 마석/영석 자동 각인 기댓값 계산기 완성
2. 확률 데이터 파일 구축 (엑셀 → TypeScript)
3. 박제 게시판 빌드 오류 수정

---

## 📝 커밋 내역

### [02:20 KST] Feat: 마석/영석 계산기 추가

**커밋 해시**: `b0cc9d4`

#### 🎯 작업 내용
- 마석/영석 자동 각인 기댓값 계산기 구현
- 확률 데이터를 TypeScript 파일로 변환
- 네비게이션에서 시뮬레이터 메뉴 제거

#### 💡 의도 및 배경
- 사용자가 자동 각인 시 평균적으로 몇 번의 시도가 필요한지 계산할 수 있도록 도구 제공
- 처음에는 시뮬레이터(확률 시뮬레이션)와 계산기(기댓값 계산) 둘 다 구현했으나, 사용자 요청에 따라 **계산기만** 남기고 시뮬레이터 제거
- 상단 네비게이션에서도 시뮬레이터 메뉴 제거 (홈 / 업데이트 내역 / 박제 게시판 / 커뮤니티)

#### 🔧 기술적 변경사항

**추가된 파일:**
- `app/simulator/page.tsx` - 시뮬레이터 목록 페이지
- `app/simulator/manastone/page.tsx` - 마석/영석 계산기
- `lib/data/manaStoneData.ts` - 확률 데이터 (엑셀에서 변환)

**수정된 파일:**
- `app/board/shame/page.tsx` - dynamic import 변수명 충돌 해결
- `config/navigation.ts` - 시뮬레이터 메뉴 제거 (이전 커밋에서 이미 처리됨)

#### 📐 계산기 기능 상세
1. **재료 선택**: 하급/중급/상급 마석, 영석, 심연 계열 (12종)
2. **최소 등급 설정**: 기본/상급/최상급 등급 필터
3. **필요 개수 설정**: 3개 중 1~3개 필요
4. **옵션 선택**: 공격력, 방어력, PVP 스탯 등 20종
5. **결과 표시**: 1회 성공 확률, 평균 시도 횟수 (기댓값)

#### 📊 확률 계산 로직
- 이항분포 누적 확률 사용
- 선택한 옵션들의 확률 합산 후, 3번 뽑기에서 k개 이상 성공할 확률 계산
- 기댓값 = 1 / 성공확률

#### ⚠️ 주의사항
- 시뮬레이터 기능은 의도적으로 제거됨 (계산기만 제공)
- `/simulator/manastone` 경로로 접근 가능하지만, 네비게이션에는 표시 안됨
- 추후 네비게이션에 추가하려면 `config/navigation.ts` 수정 필요

#### 🐛 버그 수정
- `app/board/shame/page.tsx`: `dynamic` 변수명이 `next/dynamic` import와 충돌하는 문제 해결
  - Server Component에서 `ssr: false` 사용 불가 문제도 함께 해결
  - 단순히 ShameBoard 컴포넌트를 직접 import하는 방식으로 변경

---

## 📋 다음 작업
- [ ] 계산기를 네비게이션에 추가할지 결정
- [ ] 추가 계산기/시뮬레이터 구현 (펫 이해도 등)

---

**작성자**: Claude Code
**작성일**: 2025-11-29
